redux-thunk - позволяет делать асинхронные диспатчи в рамках одного action creator!

// проверка, если react-hot-loader запущен с флагом hot
// отслеживаем './containers/Chat', если изменился снова вызываем renderApp(Chat)

if (module.hot) {
  module.hot.accept('./containers/Chat', () => { renderApp(Chat) })
}

// повторная установка react-hot-loader перетерла пред версию
npm i react-hot-loader@3.0.0-beta.6 -D


// WebSocket — протокол полнодуплексной связи (может передавать и принимать одновременно) поверх TCP-соединения, предназначенный для обмена сообщениями между браузером и веб-сервером в режиме реального времени. ... Протокол WebSocket — это независимый протокол, основанный на протоколе TCP.

Установив подключение к серверу, потом можем общаться без задержек с сервером!
(Подходит для интерактивности, где нужен быстрый отклик, гонка трафика идет без мусора)

Нюансы протокола

У протокола есть свои плюсы и минусы. Причем первых существенно больше.

Скорость и эффективность передачи обеспечивает малый размер передаваемых данных, который иногда даже будет помещаться в один TCP-пакет — здесь, конечно же, все зависит от логики разработчика. При этом учтите, что соединение уже готово — не надо тратить время и трафик на его установление.

Стандартность, которая устранит потребность в целом ряде технологий: Comet и все что накручено поверх него (Bayuex, LongPolling, MultiPart и так далее), работающее на хаках, а не стандартах.

Время жизни канала - WebSockets не имеют ограничений на время жизни в неактивном состоянии. Это значит, что больше не надо периодически обновлять соединение, т.к. его не вправе закрывать прокси-сервера. Значит, соединение может висеть в неактивном виде и не требовать ресурсов. Правда, на сервере будут забиваться TCP-сокеты. Для этого достаточно использовать хороший мультиплексор, и нормальный сервер легко потянет до миллиона открытых коннектов.

Комплексные веб-приложения - в HTTP предусмотрено ограничение на число одновременных открытых сессий к одному серверу. Поэтому для множества различных асинхронных блоков на странице приходится делать не только серверный, но и клиентский мультиплексор. Это ограничение не распространяется на протокол WebSocket. Открывается столько, сколько необходимо.

Кросс-доменные приложения - ограничения в протоколе вводятся не по принципу «из-того-же-источника», а из «разрешенного-источника», и определяются не на клиенте, а на сервере.

Еще одна особенность: в качестве единственной разрешенной кодировки выбрана UTF-8. Теперь о минусах.

В конце ноября 2010 Адам Барт (Adam Barth) опубликовал результаты исследования надежности WebSocket. По его результатам выяснилось, что в случае использования прозрачных прокси-серверов возможна подмена кеша передаваемых данных. То есть пользователи вместо реальных данных могут получать версию данных от злоумышленника. Проблема оказалась довольно серьезной. В результате разработчики Firefox и Opera объявили, что до устранения проблем в будущих версиях их браузеров поддержка WebSocket будет закрыта, хотя они и оставили возможность их включить.
Отметим особую роль разработчиков Opera, которые создали Opera's WebSockets testsuite. Этот тест охватывает как сам протокол, так и API, пытаясь проверить все аспекты спецификаций, включая обработку ошибок и непредвиденного поведения. Было найдено большое количество багов и несоответствий в спецификациях. Отзыв об этом был отправлен рабочей группе,


Объект вебсокетс, по сути предоставляет набор событий, которые обеспечивают организацию работы по обмене данных. Все события можно представить в виде диаграммы:
WebSocket Interface:
- onopen
- onmessage
- onerror
- onclose

https://tproger.ru/translations/what-are-web-sockets/
Веб-сокетам же для ответа не нужны ваши повторяющиеся запросы. Достаточно выполнить один запрос и ждать отклика. Вы можете просто слушать сервер, который будет отправлять вам сообщения по мере готовности.

Веб-сокеты можно использовать, если вы разрабатываете:

приложения реального времени;
чат-приложения;
IoT-приложения;
многопользовательские игры

https://www.youtube.com/watch?v=G47gNab1lzQ
